<mvc:View xmlns:actiontoolbar="sap.ui.mdc.actiontoolbar"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
	xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:table="sap.ui.table"
    xmlns:fb="sap.ui.comp.filterbar"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	controllerName="ztdadmmotorista.controller.Worklist"
	height="100%">

		<!-- use this to make the table occupy the available screen height -->
		<VBox fitContainer="true" height="100%"   >
           
            <fb:FilterBar id="filterbar"  persistencyKey="myPersKey"  useToolbar="false" search=".onSearch" filterChange=".onFilterChange" afterVariantLoad=".onAfterVariantLoad">
                 
            <fb:filterGroupItems>
                    <fb:FilterGroupItem name="Cliente" label="Motorista" groupName="Group1" visibleInFilterBar="true"  >
                        <fb:control>
                            
                        <MultiInput id="fieldBarCliente" showSuggestion="true" showValueHelp="true" valueHelpRequest=".onValueHelpRequest2" suggestionItems="{/MotoristaSet}" >
                            <suggestionItems>
                                <core:ListItem
                                    key="{Drivercode}"
                                    text="{
                                        path : 'Drivercode',
                                        formatter : '.whitespace2Char'
                                    }"
                                    additionalText="{
                                        path : 'Nome',
                                        formatter : '.whitespace2Char'
                                    }"
                                    />
                            </suggestionItems>
                        </MultiInput>
                        </fb:control>
                    </fb:FilterGroupItem>

                    <fb:FilterGroupItem name="Centro" label="Transportadora" groupName="Group1" visibleInFilterBar="true" >
                        <fb:control>
                            <MultiInput id="fieldBarCentro" showSuggestion="true" showValueHelp="true" valueHelpRequest=".onValueHelpRequest2" suggestionItems="{/Transportadoras}" >
                                <suggestionItems>
                                    <core:ListItem
                                    key="{CFOP}"
                                    text="{
                                        path : 'Carrier',
                                        formatter : '.whitespace2Char'
                                    }"
                                    additionalText="{
                                        path : 'Carrier_desc',
                                        formatter : '.whitespace2Char'
                                    }"
                                    />
                                </suggestionItems>
                            </MultiInput>
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
            </fb:FilterBar>

			<smartTable:SmartTable id="LineItemsSmartTable" 
                        entitySet="MotoristaSet" 
                        
                        initialNoDataText="Utilize o filtro para buscar dados"
                        header="Motoristas" 
                        height="100%"
                        persistencyKey="SmartTableAnalytical_Explored" 
                        tableType="ResponsiveTable"
                        initiallyVisibleFields="Drivercode,Nome,Carrier,StatusTxt,Licenca,Link"  
                        ignoredFields="FirstName,ChaDate,ChaName,CreDate,CreName,DrvXblck,LastName,Perscode,Drvstatus,LChaDate,LChaName" 
				        enableAutoBinding="true" 
                        showFullScreenButton="true" 
                
                        beforeRebindTable="onBeforeRebindTable"
                        enableAutoColumnWidth="true">
                <smartTable:customToolbar>
                    <OverflowToolbar>
                        <ToolbarSpacer/>
                        <Button text="Novo motorista" icon="sap-icon://add-employee" press="onNovoMotorista"/>
                    </OverflowToolbar>
                </smartTable:customToolbar>

                <table:Table id="idTable" rowActionCount="1" width="100%" selectionMode="None" >
                    <table:rowActionTemplate>
                        <table:RowAction id="idRowAction">
                            <table:items>
                                <table:RowActionItem id="idRowActionItem" type="Navigation" press="onRowActionItemPress" icon="sap-icon://feeder-arrow"/>
                            </table:items>
                        </table:RowAction>
                    </table:rowActionTemplate>
                </table:Table>

			</smartTable:SmartTable> 

            
		</VBox>
</mvc:View>