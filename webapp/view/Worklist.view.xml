<mvc:View
    controllerName="project5.controller.Worklist"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:semantic="sap.f.semantic"
    xmlns:f="sap.f"
    xmlns:t="sap.ui.table"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:svm="sap.ui.comp.smartvariants"
    xmlns:core="sap.ui.core"
    
    >
    <Page id="page" >
        <f:DynamicPageTitle>
            <f:heading>
                <svm:SmartVariantManagement id="svm" showExecuteOnSelection="true" />
            </f:heading>
            <f:expandedContent>
                <Label id="expandedLabel" text="" />
            </f:expandedContent>
            <f:snappedContent>
                <Label id="snappedLabel" text="" />
            </f:snappedContent>
        </f:DynamicPageTitle>
        <f:DynamicPageHeader>
            <f:content>
                <fb:FilterBar id="filterbar" persistencyKey="myPersKey" useToolbar="false" search=".onSearch" filterChange=".onFilterChange" afterVariantLoad=".onAfterVariantLoad">
                    
                
                
                <fb:filterGroupItems>
           
                        <fb:FilterGroupItem name="Cliente" label="Motorista" groupName="Group1" visibleInFilterBar="true" >
                            <fb:control>
                                
                            <MultiInput id="productInput" showSuggestion="true" showValueHelp="true" valueHelpRequest=".onValueHelpRequest" >
                                <suggestionItems>
                                    <core:ListItem
                                        key="{BR_NFPARTNER}"
                                        text="{
                                            path : 'BR_NFPARTNER',
                                            formatter : '.whitespace2Char'
                                        }"
                                        additionalText="{
                                            path : 'BR_NFPARTNERNAME',
                                            formatter : '.whitespace2Char'
                                        }"
                                        />
                                </suggestionItems>
                            </MultiInput>
                            </fb:control>
                        </fb:FilterGroupItem>
                        <fb:FilterGroupItem name="Centro" label="Transportadora" groupName="Group1" visibleInFilterBar="true">
                            <fb:control>
                                <MultiInput id="productInput2" showSuggestion="true" showValueHelp="true" valueHelpRequest=".onValueHelpRequest2">
                                    <suggestionItems>
                                        <core:ListItem
                                        key="{CFOP}"
                                        text="{
                                            path : 'PLANT',
                                            formatter : '.whitespace2Char'
                                        }"
                                        additionalText="{
                                            path : 'PLANT_DESC',
                                            formatter : '.whitespace2Char'
                                        }"
                                        />
                                    </suggestionItems>
                                </MultiInput>
                            </fb:control>
                        </fb:FilterGroupItem>

        
                    </fb:filterGroupItems>
                </fb:FilterBar>
            </f:content>
        </f:DynamicPageHeader>


            <Table
                id="table"
                width="auto"
                showSeparators="Inner"
                items="{
                    path: '/MotoristaSet',
                    sorter: {
                        path: 'Drivercode',
                        descending: false
                    }
                }"
                
                noDataText="{worklistView>/tableNoDataText}"
                busyIndicatorDelay="{worklistView>/tableBusyDelay}"
             
                
                growingScrollToLoad="true"
                mode="None"
                updateFinished=".onUpdateFinished">

                <headerToolbar>
					<OverflowToolbar id="otbSubheader">
						<ToolbarSpacer/>
                        <Button icon="sap-icon://add" text="Adicionar novo motorista"  press=".onNovoMotorista"></Button>
                        <Button icon="sap-icon://excel-attachment"></Button>
					</OverflowToolbar>
				</headerToolbar>

                <columns>
                    <Column id="nameColumn" width="75px">
                        <Text text="Matrícula" id="nameColumnTitle"/>
                    </Column>
                    <Column id="nameColumn2">
                        <Text text="Nome do motorista" id="nameColumnTitle2"/>
                    </Column>
                    <Column id="nameColumn3">
                        <Text text="Transportadora" id="nameColumnTitle3"/>
                    </Column>
                    <Column id="Statusatual">
                        <Text text="Status atual" id="nameColumnTitle4"/>
                    </Column>
                    <Column id="">
                        <Text text="Licença" id="nameColumnTitle5"/>
                    </Column>


                </columns>

                <items>
                    <ColumnListItem
                        type="Navigation"
                        press=".onPress">
                        <cells>
                            <ObjectIdentifier 
                                text="{Drivercode}" />

                            <Text text="{FirstName} {LastName}"></Text>
                            <Text text="{Carrier}"></Text>
                            <Text text="{StatusTxt}"></Text>
                            <Text text="{Licenca}"></Text>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
    </Page>
</mvc:View>